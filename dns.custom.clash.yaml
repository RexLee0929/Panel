# Clash for Windows By Rex
# port: 7890
# socks-port: 7891
# redir-port: 7892
# tproxy-port: 7893
mixed-port: 7890
socks-port: 7891
allow-lan: true
mode: Rule
log-level: info
ipv6: true


proxies:

proxy-groups:
  - { name: 'PROXY', type: select, proxies: ['DIRECT', 'Rex Cloud', 'Hong Kong', 'United States', 'Singapore', 'Japan', 'Direct Server', /Rex最帅/] }
  - { name: 'Rex Cloud', type: select, proxies: [] }
  - { name: 'Direct Server', type: select, proxies: ['DIRECT', /直连/, /Vmess/] }
  - { name: 'Hong Kong', type: select, proxies: ['DIRECT', /Hong Kong/] }
  - { name: 'United States', type: select, proxies: ['DIRECT', /States/] }
  - { name: 'Singapore', type: select, proxies: ['DIRECT', /Singapore/] }
  - { name: 'Japan', type: select, proxies: ['DIRECT', /Japan/] }
  - { name: 'Download', type: select, proxies: ['DIRECT', //] }
  - { name: 'OpenAI', type: select, proxies: ['DIRECT', 'Singapore', 'United States', /OP/] }
  - { name: 'Telegram', type: select, proxies: ['DIRECT', 'PROXY', 'Hong Kong', 'Singapore', 'United States', 'Japan', 'Download', /Rex最帅/] }
  - { name: 'Netflix', type: select, proxies: ['DIRECT', 'PROXY', 'Hong Kong', 'Singapore', 'United States', 'Japan', 'Download', /Rex最帅/] }
  - { name: 'Disney Plus', type: select, proxies: ['DIRECT', 'PROXY', 'Hong Kong', 'Singapore', 'United States', 'Japan', 'Download', /Rex最帅/] }
  - { name: 'OneDrive', type: select, proxies: ['DIRECT', 'PROXY', 'Hong Kong', 'Singapore', 'United States', 'Japan', 'Download', /Rex最帅/] }
  - { name: 'Microsoft', type: select, proxies: ['DIRECT', 'PROXY', 'Hong Kong', 'Singapore', 'United States', 'Japan', 'Download', /Rex最帅/] }
  - { name: 'PayPal', type: select, proxies: ['DIRECT', 'PROXY', 'Hong Kong', 'Singapore', 'United States', 'Japan', 'Download', /Rex最帅/] }
  - { name: 'Steam', type: select, proxies: ['DIRECT', 'PROXY', 'Hong Kong', 'Singapore', 'United States', 'Japan', 'Download', /Rex最帅/] }
  - { name: 'Apple', type: select, proxies: ['DIRECT', 'PROXY', 'Hong Kong', 'Singapore', 'United States', 'Japan', 'Download', /Rex最帅/] }

  
rules:
  - DOMAIN-SUFFIX,wechat.com,DIRECT
## 对应软件分流
  - RULE-SET,OpenAI,OpenAI
  - RULE-SET,Apple,Apple
  - RULE-SET,Disney Plus,Disney Plus
  - RULE-SET,YouTube,PROXY
  - RULE-SET,OneDrive,OneDrive
  - RULE-SET,Microsoft,Microsoft
  - RULE-SET,Netflix,Netflix
  - RULE-SET,PayPal,PayPal
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Steam,Steam


  
  
 # LAN
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,17.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
## 避免DNS泄露
  - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,PROXY
  - DOMAIN-SUFFIX,services.googleapis.cn,PROXY
  - RULE-SET,GoogleCNProxyIP,PROXY
  - RULE-SET,LocalAreaNetwork,DIRECT
  - RULE-SET,UnBan,DIRECT
  - RULE-SET,ChinaDomain,DIRECT
  - RULE-SET,ChinaMedia,DIRECT
  - RULE-SET,BanAD,REJECT
  - RULE-SET,BanProgramAD,DIRECT
  - RULE-SET,ChinaCompanyIp,DIRECT
  - RULE-SET,ChinaIp,DIRECT
  
  - GEOIP,CN,DIRECT,no-resolve
  - PROCESS-NAME,fjava.exe,PROXY
  - MATCH,PROXY
  

rule-providers:
## Important
  GoogleCNProxyIP:
    type: http
    behavior: classical
    url: 'https://github.isong.me/cf/https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/Ruleset/GoogleCNProxyIP.yaml'
    path: ./Important/GoogleCNProxyIP.yaml
    interval: 86400
  LocalAreaNetwork:
    type: http
    behavior: classical
    url: 'https://github.isong.me/cf/https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/LocalAreaNetwork.yaml'
    path: ./Important/LocalAreaNetwork.yaml
    interval: 86400
  UnBan:
    type: http
    behavior: classical
    url: 'https://github.isong.me/cf/https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/UnBan.yaml'
    path: ./Important/UnBan.yaml
    interval: 86400
  ChinaDomain:
    type: http
    behavior: classical
    url: 'https://github.isong.me/cf/https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/ChinaDomain.yaml'
    path: ./Important/ChinaDomain.yaml
    interval: 86400
  ChinaMedia:
    type: http
    behavior: classical
    url: 'https://github.isong.me/cf/https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/ChinaMedia.yaml'
    path: ./Important/ChinaMedia.yaml
    interval: 86400
  BanAD:
    type: http
    behavior: classical
    url: 'https://github.isong.me/cf/https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/BanAD.yaml'
    path: ./Important/BanAD.yaml
    interval: 86400
  BanProgramAD:
    type: http
    behavior: classical
    url: 'https://github.isong.me/cf/https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/BanProgramAD.yaml'
    path: ./Important/BanProgramAD.yaml
    interval: 86400
  ChinaCompanyIp:
    type: http
    behavior: ipcidr
    url: 'https://github.isong.me/cf/https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/ChinaCompanyIp.yaml'
    path: ./Important/ChinaCompanyIp.yaml
    interval: 86400
  ChinaIp:
    type: http
    behavior: ipcidr
    url: 'https://github.isong.me/cf/https://github.com/ACL4SSR/ACL4SSR/raw/master/Clash/Providers/ChinaIp.yaml'
    path: ./Important/ChinaIp.yaml
    interval: 86400
    
    
  OpenAI:
    type: http
    behavior: classical
    url: 'https://raw.dler.io/dler-io/Rules/main/Clash/Provider/OpenAI.yaml'
    path: ./Rules/OpenAI.yaml
    interval: 86400
  Apple:
    type: http
    behavior: classical
    url: 'https://raw.dler.io/dler-io/Rules/main/Clash/Provider/Apple.yaml'
    path: ./Rules/Apple.yaml
    interval: 86400
  YouTube:
    type: http
    behavior: classical
    url: 'https://raw.dler.io/dler-io/Rules/main/Clash/Provider/Media/YouTube.yaml'
    path: ./Rules/Media/YouTube.yaml
    interval: 86400
  Disney Plus:
    type: http
    behavior: classical
    url: 'https://raw.dler.io/dler-io/Rules/main/Clash/Provider/Media/Disney%20Plus.yaml'
    path: ./Rules/Media/Disney_Plus.yaml
    interval: 86400
  OneDrive:
    type: http
    behavior: classical
    url: 'https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OneDrive/OneDrive.yaml'
    path: ./Rules/OneDrive.yaml
    interval: 8640000
  Microsoft:
    type: http
    behavior: classical
    url: 'https://raw.dler.io/dler-io/Rules/main/Clash/Provider/Microsoft.yaml'
    path: ./Rules/Microsoft.yaml
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    url: 'https://raw.dler.io/dler-io/Rules/main/Clash/Provider/Media/Netflix.yaml'
    path: ./Rules/Media/Netflix.yaml
    interval: 86400
  PayPal:
    type: http
    behavior: classical
    url: 'https://raw.dler.io/dler-io/Rules/main/Clash/Provider/PayPal.yaml'
    path: ./Rules/PayPal.yaml
    interval: 86400
  Steam:
    type: http
    behavior: classical
    url: 'https://raw.dler.io/dler-io/Rules/main/Clash/Provider/Steam.yaml'
    path: ./Rules/Steam.yaml
    interval: 86400
  Telegram:
    type: http
    behavior: classical
    url: 'https://raw.dler.io/dler-io/Rules/main/Clash/Provider/Telegram.yaml'
    path: ./Rules/Telegram.yaml
    interval: 86400
